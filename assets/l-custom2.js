(function(b){b(document).ready(function(){if($body.hasClass("template-product")){b("#ProductJson-l-product-template").length&&(window.pData=JSON.parse(document.getElementById("ProductJson-l-product-template").innerHTML));window.pVars=window.pData.variants;b("#cta-btn-main");var g=b("#ProductID-l-product-template"),h=window.pVars.length;b(".haring-slider").flickity({});var f=b(".js-slideshow-wrapper .js-slideshow").flickity({cellAlign:"center",contain:!0,prevNextButtons:!1,pageDots:!1,on:{ready:function(){console.log("let's get it on")},
change:function(a){console.log("Slide changed to"+a);b(".js-slideshow-thumbs .js-slideshow-bullet:eq("+a+")").addClass("is-active").siblings().removeClass("is-active")}}});b(".js-slideshow-thumbs .js-slideshow-bullet").on("click",function(){var a=b(this),c=a.index();a.parent().index();a.addClass("is-active").siblings().removeClass("is-active");f.flickity("select",c)}).first().trigger("click");b("#trigger-size-panel").click(function(a){a.preventDefault();b(this);var c=b("#size-panel");c.removeClass("is-hidden").siblings().removeClass("is-opened");
setTimeout(function(){c.addClass("is-opened")},200)});b(".size-guide-popin-btn").click(function(a){a.preventDefault();b(this);var c=b("#size-guide");c.removeClass("is-hidden").siblings().removeClass("is-opened");setTimeout(function(){c.addClass("is-opened")},200)});b(".js-pdp-color-list a").click(function(a){a.preventDefault();a=b(this);var c=a.children("img").attr("src"),d=a.attr("title").replace("-","\u2022"),e=0;b(".js-pdp-gallery.js-slideshow-wrapper").find(".unique-wrap").each(function(){var a=
b(this);a.data("color")==d?(a.removeClass("hiden"),a.hasClass("for-btn")&&(e++,1==e&&a.parent().trigger("click"))):a.addClass("hiden")});d='<img src="'+c+'" class="l-hmargin--xsmall rounded" width="11" height="11">&nbsp;'+d;b(".js-pdp-color-title-block")[0].innerHTML=d;a.addClass("is-active").parent().siblings().find("a").removeClass("is-active")});b("#popin-size .btn-size").click(function(a){a=b(this);var c=b("#trigger-size-panel"),d=c.children("svg")[0].outerHTML;a=a.text();c[0].innerHTML='<span class="no-mob no-tab">Selected size&nbsp;\u2014&nbsp;</span><strong>'+
a+"</strong>"+d;b("#cta-btn-main").addClass("btn--green").text("Add to shopping bag");b(".js-pdp-mobile-size-list .btn-cta:contains("+a+")").addClass("is-active").siblings().removeClass("is-active");c.attr("data-selected-size",a);c=b(".js-pdp-color-list a.is-active").attr("title");for(d=0;d<h;d++){var e=window.pVars[d],f=e.option2;e.option1==c&&f==a&&(g.val(e.id),console.log(e.id))}});b(".js-pdp-mobile-size-list .btn-cta").click(function(a){a=b(this);var c=a.text();c=b("#popin-size .btn-cta:contains("+
c+")");console.log(c);a.addClass("is-active").siblings().removeClass("is-active");c.trigger("click")});b(".js-popin-close").click(function(a){a.preventDefault();b(this).closest(".popin-wrapper").removeClass("is-opened").closest(".js-popin-container").fadeOut()});b("#size-panel").click(function(a){a.preventDefault();b(this).removeClass("is-opened").closest(".js-popin-container").fadeOut()});b("#cta-btn-main").click(function(a){a=b(this);var c=b("#trigger-size-panel");""==c.attr("data-selected-size")?
c.trigger("click"):a.prev("form").submit()})}console.log(b("#productTypeContainer").val())})});