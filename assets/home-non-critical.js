import{replaceAll as e}from"../framework/base/croco.js";import{recommendationInit as r}from"../framework/modules/recommendation.js";import{swiperInit as o}from"../framework/modules/swiper-config.js";import{Tracker as t}from"../framework/modules/event-tracker.js";import{homeTagPlan as a}from"../framework/tracking/home-tagplan.js";t.updateTagPlan(a);var m=function(){var r=0;const o=[];let a=document.querySelectorAll(".js-mcontent-strate");for(let c=0,f=a.length;c<f;c++){r+=1;let f=a[c];var m=f.id;let d=f.querySelectorAll(".js-track");for(let a=0,c=d.length;a<c;a++){var s=d[a].dataset;if("homepage.promotionClick"===s.tagId){var i=t.retrieveTag(s.tagId),n=i.data&&i.data.promotion&&i.data.promotion[0],p=s.replace&&JSON.parse(s.replace)||{},l=(p["%label%"]||d[a].innerText||"").replace(/[\t\n\r\s"']/g,"_");p["%promo_id%"]=Lacoste.siteprefs.ISO_COUNTRY_CODE+"|"+Lacoste.siteprefs.CURRENT_LOCALE+"|"+p["%trackingcategory%"]+"|"+m+(l?"|"+l:""),p["%promo_position%"]=r+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a],d[a].dataset.replace=JSON.stringify(p),n&&o.push(JSON.parse(e(JSON.stringify(n),p)))}}}o.length&&(t.updateDatalayer("promotions",o),t.sendTracking("homepage.promotionsView"))};m(),o(),r(".js-home-recommendations");